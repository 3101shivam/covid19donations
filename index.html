<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-54176113-3"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-54176113-3');
    </script>
    <title>Coronavirus Donations</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description"
          content="Live coronavirus donations tracker. See who donated for the relief fund of covid19."/>
    <meta name="keywords"
          content="coronavirus, covid-19, tracker, dashboard, preperation, prevention, trends, statistics, data"/>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://covid19donations.imfast.io/">
    <meta property="og:title" content="Coronavirus Donations">
    <meta property="og:description"
          content="Live coronavirus donations tracker. See who donated for the relief fund of covid19.">
    <meta property="og:image"
          content="https://covid19donations.imfast.io/thumbnailcorona.jpg">

    <meta name="twitter:title" content="covid19donations - Coronavirus Donations Tracker">
    <meta name="twitter:description"
          content="Live coronavirus donations. See who donated for the relief fund of covid19.">
    <meta name="twitter:image" content="https://covid19donations.imfast.io/thumbnailcorona.jpg">
    <meta name="twitter:creator" content="@jensechu">
    <meta name="twitter:card" content="summary_large_image"/>

    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
    <link rel="manifest" href="/images/site.webmanifest">

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet" type="text/css">

    <style>
    body {
      background-color: #364061;
    }
    .row {
      margin-bottom: 25px;
    }









    </style>

</head>

<body class="data">
<nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand" href="index.html">
    <span style="padding-bottom: 4px;">
      <svg style="width: 25px;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="globe"
           class="svg-inline--fa fa-globe fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
        <path fill="currentColor"
              d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path>
      </svg>
    </span>
        COVID19donations.today
    </a>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a style="color: white; font-size: 20px; font-weight: bolder;"
                   class="nav-link" href="index.html">Data<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a style="color: white; font-size: 20px; font-weight: bolder;"
                   class="nav-link" href="email.html">Subscribe</a>
            </li>
            <li class="nav-item">
                <a style="color: white; font-size:
                20px; font-weight: bolder;" class="nav-link" href="about.html">About</a>
            </li>
        </ul>
    </div>
</nav>

<div class="content container-fluid">
    <div class="row">
        <div class="col col-lg-3">
<!--            <div class="container&#45;&#45;wrap padding">-->
<!--                <br>-->
<!--                <h4 class="sub-header">NEW:</h4>-->
<!--                <p class="default-copy">-->
<!--                    <b> Africa breakdown is added below Europe.</b> </br>-->
<!--                </p>-->
<!--            </div>-->
            <div class="container--wrap">
                <p style="color: #DFDFEF; font-size: 30px; text-align: center; padding-top: 15px; font-weight: bolder; margin-bottom: 0;">
                    COVID19 Relief Fund</p>

                <table>
                    <tr>
                        <p style="color: rgb(101, 221, 155); font-weight: bold; text-align: center; border-bottom: 0; font-size: 50px; margin-bottom: 0px;">
                            <svg style="width: 25px;" aria-hidden="true" focusable="false" data-prefix="fas"
                                 data-icon="check" class="svg-inline--fa fa-check fa-w-16" role="img"
                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path fill="currentColor"
                                      d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z">
                                </path>
                            </svg>
                            &#8377; 27,570
                        </p>
                        <p style="color: #DFDFEF; font-size: 18px; font-weight: bold; border-bottom: 0; text-align: center;">
                            Total Confirmed Donations</p>
                    </tr>
                </table>
            </div>
        </div>
        <!--     -->

        <div class="col col-lg-9 tables">
            <div class="row m-0">
                <div id="container_Global" class="container--wrap col hide-mobile">
                    <div class="sorted-table__header">
                        <div class="sorted-table__container">
                            <h2>Donations</h2>
                        </div>
                    </div>
                    <table id="sortable_table_Global" class="display compact responsive">
                        <thead>
                        <tr>
                            <th class="text--gray">Name</th>
                            <th class="text--gray">Amount</th>
                            <th class="text--gray">State</th>
                            <th class="text--gray">Country</th>
                            <th class="text--gray">Occupation</th>
                            <th class="text--gray">Date</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="text--gray">
                                Abiral Pandey
                            </td>
                            <td class="text--green">
                                &#8377;12000
                            </td>
                            <td class="text--green">
                                MP
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                IT Inspector
                            </td>
                            <td class="text--red">
                                25/03/2020
                            </td>
                        </tr>
                        <tr>
                            <td class="text--gray">
                                Abiral Pandey
                            </td>
                            <td class="text--green">
                                &#8377;12000
                            </td>
                            <td class="text--green">
                                MP
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                IT Inspector
                            </td>
                            <td class="text--red">
                                25/03/2020
                            </td>
                        </tr>
                        <tr>
                            <td class="text--gray">
                                Abiral Pandey
                            </td>
                            <td class="text--green">
                                &#8377;12000
                            </td>
                            <td class="text--green">
                                MP
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                IT Inspector
                            </td>
                            <td class="text--red">
                                25/03/2020
                            </td>
                        </tr>
                        <tr>
                            <td class="text--gray">
                                Abiral Pandey
                            </td>
                            <td class="text--green">
                                &#8377;12000
                            </td>
                            <td class="text--green">
                                MP
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                IT Inspector
                            </td>
                            <td class="text--red">
                                25/03/2020
                            </td>
                        </tr>
                        <tr>
                            <td class="text--gray">
                                Abiral Pandey
                            </td>
                            <td class="text--green">
                                &#8377;12000
                            </td>
                            <td class="text--green">
                                MP
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                IT Inspector
                            </td>
                            <td class="text--red">
                                25/03/2020
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div id="container_mobile_Global" class="container--wrap col hide-desktop">
                    <div class="sorted-table__header">
                        <span id="Global" class="mobile-dropdown-anchor"></span>

                        <div class="sorted-table__container">
                            <h2>Donations</h2>
                        </div>
                    </div>
                    <table id="sortable_table_mobile_Global" class="display compact responsive">
                        <tbody>
                        <tr>
                            <td>
                                &nbsp;
                            </td>
                            <td class="text--gray">
                                Name
                            </td>
                            <td class="text--green">
                                Amount
                            </td>
                            <td class="text--green">
                                Country
                            </td>
                            <td class="text--red">
                                Occupation
                            </td>
                        </tr>
                        <tr>
                            <td class="text--gray">

                                <span class="save-button" data-status="unselected" data-type="country"
                                      data-name="China">&#9733;</span>

                            </td>
                            <td class="text--gray">
                                Abiral Pandey
                            </td>
                            <td class="text--green">
                                12,000
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                IT Inspector
                            </td>
                        </tr>
                        <tr>
                            <td class="text--gray">

                                <span class="save-button" data-status="unselected" data-type="country"
                                      data-name="China">&#9733;</span>

                            </td>
                            <td class="text--gray">
                                Sunil Prajapati
                            </td>
                            <td class="text--green">
                                12,000
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                Railway officer
                            </td>
                        </tr>
                        <tr>
                            <td class="text--gray">

                                <span class="save-button" data-status="unselected" data-type="country"
                                      data-name="China">&#9733;</span>

                            </td>
                            <td class="text--gray">
                                Dharmendra Sharma
                            </td>
                            <td class="text--green">
                                12,000
                            </td>
                            <td class="text--green">
                                India
                            </td>
                            <td class="text--red">
                                IT Engineer
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--        </div>-->
</div>

<script src="/js/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.20/r-2.2.3/datatables.min.js"></script>

<script>
    const mobileBreakpoint = 980;
    const hideDayDataConfig = {
      "columnDefs": [{
          responsivePriority: 2,
          targets: 1
        },
        {
          "targets": [2, 3, 5, 6],
          "visible": false,
          "searchable": false
        }
      ],
    }
    let config = {
      responsive: {
        details: false
      },
      data: null,
      "scrollY": "370px",
      "scrollCollapse": true,
      "language": {
        "search": "&#128269;",
        "searchPlaceholder": "search data"
      },
      "autoWidth": true,
      "bInfo": false,
      "bPaginate": false,
      "order": [
        [1, "desc"]
      ],
      "columnDefs": [{
          responsivePriority: 2,
          targets: 1
        },
        {
          "targets": [3, 6],
          "visible": false,
          "searchable": false
        }
      ],
      "columns": [{
          data: "country",
          "width": "20%",
          className: 'text--gray'
        },
        {
          data: "cases",
          className: 'text--green'
        },
        {
          data: "caseRateCopy",
          className: 'text--green',
          render: (data, type, row) => {
            if (data === "0" || row.caseRate === "0.00" || row.caseRate === "0") return '';
            if (type === "display") return `&#8593; ${data} (${row.caseRate}%)`
            return data;
          }
        },
        {
          data: "caseRate",
          className: 'text--green',
        },
        {
          data: "deaths",
          className: 'text--red',
        },
        {
          data: "deathRateCopy",
          className: 'text--red',
          render: (data, type, row) => {
            if (data === "0" || row.deathRate === "0.00" || row.deathRate === "0") return '';
            if (type === "display") return `&#8593; ${data} (${row.deathRate}%)`
            return data;
          }
        },
        {
          data: "deathRate",
          className: 'text--red'
        },
        {
          data: "recovered",
          className: 'text--blue'
        },
        {
          data: "serious",
          className: 'text--yellow'
        }
      ]
    }

    const mobileConfig = {
      responsive: {
        details: false
      },
      "ordering": true,
      "scrollCollapse": true,
      "language": {
        "search": "&#128269;",
        "searchPlaceholder": "search data"
      },
      "autoWidth": false,
      "bInfo": false,
      "bPaginate": false,
      "order": [
        [2, "desc"]
      ],

      "columnDefs": [{
          width: 50,
          targets: 1
        },
        {
          "targets": [3, 5],
          "visible": false,
          "searchable": false
        }
      ],
      "columns": [{
          data: "saved",
          "width": "1px"
        },
        {
          data: "country",
          className: 'text--gray',
          "width": "70px"
        },
        {
          data: "cases",
          className: 'text--green',
          render: (data, type, row) => {
            if (data === "0" || row.caseRate === "0.00") return '';
            if (type === "display" && row.caseRate !== "0") return `${data} <br/> &#8593; ${row.caseRate}%`
            return data;
          }
        },
        {
          data: "caseRate",
          className: 'text--green',
        },
        {
          data: "deaths",
          className: 'text--red',
          render: (data, type, row) => {
            if (data === "0" || row.deathRate === "0.00") return '';
            if (type === "display" && row.deathRate !== "0") return `${data} <br/> &#8593; ${row.deathRate}%`
            return data;
          }
        },
        {
          data: "deathRate",
          className: 'text--red',
        },
        {
          data: "recovered",
          className: 'text--blue'
        }
      ]
    }

    $(document).ready(function() {
      var globalTable = $('#sortable_table_Global').DataTable(config);
      $('#sortable_table_USA').DataTable(config);
      $('#sortable_table_China').DataTable({
        ...config,
        ...hideDayDataConfig
      });
      $('#sortable_table_Canada').DataTable({
        ...config,
        ...hideDayDataConfig
      });
      $('#sortable_table_Australia').DataTable({
        ...config,
        ...hideDayDataConfig
      });
      $('#sortable_table_Africa').DataTable(config);
      $('#sortable_table_LatinAmerica').DataTable(config);
      $('#sortable_table_Europe').DataTable(config);

      var globalTable = $('#sortable_table_mobile_Global').DataTable({
        ...mobileConfig,
        "scrollY": "370px"
      });
      $('#sortable_table_mobile_USA').DataTable(mobileConfig);
      $('#sortable_table_mobile_China').DataTable(mobileConfig);
      $('#sortable_table_mobile_Canada').DataTable(mobileConfig);
      $('#sortable_table_mobile_Australia').DataTable(mobileConfig);
      $('#sortable_table_mobile_Africa').DataTable(mobileConfig);
      $('#sortable_table_mobile_LatinAmerica').DataTable(mobileConfig);
      $('#sortable_table_mobile_Europe').DataTable(mobileConfig);

      var savedTable = $('#sortable_table_Saved').DataTable(config);
      var savedMobileTable = $('#sortable_table_mobile_Saved').DataTable(mobileConfig);

      var activeSavedTable = function() {
        return $('#sortable_table_Saved').is(':visible') ? savedTable : savedMobileTable
      }

      var activeSavedContainerId = function() {
        return $('#container_Saved').is(':visible') ? '#container_Saved' : '#container_mobile_Saved'
      }

      var activeUSATable = function() {
        return $('#sortable_table_USA').is(':visible') ? '#sortable_table_USA' : '#sortable_table_mobile_USA'
      }

      var handleRemovingOwnRow = function(event) {
        event.preventDefault();
        if (!window.localStorage) return;

        var $currentRow = $(this).closest("tr");
        var $saveButton = $currentRow.find('.save-button');
        var rowData = {
          name: $saveButton.data('name'),
          type: $saveButton.data('type')
        }
        activeSavedTable().row($currentRow).remove().draw();
        $(`.save-button[data-name="${rowData.name}"][data-name="${rowData.name}"]`).attr("data-status", "unselected")

        removeRow(rowData)
      }

      var handleUnselectingSavedRow = function(event) {
        event.preventDefault();
        if (!window.localStorage) return;

        var $currentRow = $(this).closest("tr");
        var $saveButton = $currentRow.find('.save-button');
        var rowData = {
          name: $saveButton.data('name'),
          type: $saveButton.data('type')
        }
        var $targetRow = $(`.saved-table:visible [data-name="${rowData.name}"][data-name="${rowData.name}"]`).closest("tr")

        activeSavedTable().row($targetRow).remove().draw();

        $saveButton.attr('data-status', 'unselected')

        removeRow(rowData)
      }

      var handleSelectingSavedRow = function(event) {
        if (!window.localStorage) return;
        if (window.innerWidth >= mobileBreakpoint) {
          $('#container_Saved').css({
            'display': 'block'
          })
        } else {
          $('#container_mobile_Saved').css({
            'display': 'block'
          })
        }
        event.preventDefault();
        if (!window.localStorage) return;

        var $currentRow = $(this).closest("tr");
        var $currentTable = $(this).closest("table")
        var $saveButton = $currentRow.find('.save-button');

        var data = $currentTable.DataTable().row($currentRow).data();
        $saveButton.attr('data-status', 'selected')

        activeSavedTable().row.add(data).draw();
        saveRow({
          name: $saveButton.data('name'),
          type: $saveButton.data('type')
        })
      }
      $(".saved-table").on('click', '.save-button', handleRemovingOwnRow);
      $("table:not(.saved-table)").on('click', '.save-button[data-status="selected"]', handleUnselectingSavedRow);
      $("table:not(.saved-table)").on('click', '.save-button[data-status="unselected"]', handleSelectingSavedRow);

      var getSavedRows = function() {
        //TODO: Show message that says they can't save on their device?
        if (!window.localStorage) return;

        let data = JSON.parse(localStorage.getItem('germtracker'));
        if (data == null) data = [];

        return data;
      }

      var saveRow = function(rowData) {
        var savedRows = getSavedRows()
        var rowAlreadySaved = !!savedRows.filter(row => {
          return row.name === rowData.name && row.type === rowData.type
        }).length

        if (rowAlreadySaved) return

        savedRows.push(rowData)
        localStorage.setItem('germtracker', JSON.stringify(savedRows));
        if (getSavedRows().length) {
          $(activeSavedContainerId()).css({
            'display': 'block'
          })
        }
      }

      var removeRow = function(rowData) {
        var savedRows = getSavedRows()
        var remainingRows = savedRows.filter(row => {
          return row.name !== rowData.name
        })

        localStorage.setItem('germtracker', JSON.stringify(remainingRows));
        if (!getSavedRows().length) {
          $(activeSavedContainerId()).css({
            'display': 'none'
          })
        }
      }

      var addAllRows = function() {
        getSavedRows().forEach(row => {
          addRow(row)
        })
      }

      var addRow = function(rowData) {
        let prefix = ''
        if (rowData.type === "state") prefix += activeUSATable()

        $(`${prefix} [data-name="${rowData.name}"][data-name="${rowData.name}"]:visible`).first().click()
      }

      addAllRows();

      var displayOrder = [
        "QuickFacts",
        "Global",
        "USA",
        "Europe",
        "Africa",
        "LatinAmerica",
        "China",
        "Canada",
        "Australia"
      ]
      var $dropdownLabel = $('.dropdown-toggle');
      var $tableLegend = $('.mobile-nav-legend').first();
      var topPoistion = (region) => {
        return $('#container_mobile_' + region).offset().top - 250
      }
      var showRegionTotal = (region, showTotalBar = true) => {
        $dropdownLabel.text(region);
        $('.show-element').removeClass('show-element')

        $('.sort-copy').addClass('show-element')
        $('#mobile-nav-legend_' + region).addClass('show-element')
        if (showTotalBar) $('#mobile-nav-total_' + region).addClass('show-element')
      }

      var handleCategorySort = function() {
        $('.cateogry_sort').on('click', function() {
          var action = $(this).data('action');
          var region = $(this).data('region');
          var $mobileTab = $(this).parents().find('#mobile-nav-legend_' + region)
          var $selector = $("#sortable_table_mobile_" + region + " [data-action='" + action + "']")

          $mobileTab.find('.sorted-column--desc').removeClass('sorted-column--desc');
          $mobileTab.find('.sorted-column--asc').removeClass('sorted-column--asc');
          $selector.click()

          var className = $selector.hasClass('sorting_desc') ? 'sorted-column--desc' : 'sorted-column--asc'

          $(this).find('.legend-label').addClass(className)
          $(window).scrollTop(topPoistion(region) + 110);
        })
      }

      handleCategorySort();

      if (!!window.scrollY) {
        $('nav.fixed-top').css({
          'margin-top': '0'
        });
      }

      $(window).scroll(function() {
        var scrollPosition = $(document).scrollTop()

        // Fix the Dropdwn Nav after main header scrolls.
        if ($(document).scrollTop() > 60) {
          $('nav.fixed-top').css({
            'margin-top': '0'
          });
        }

        // Toggle the Legend and Totals in Dropdown Nav depending on
        // which Region is currently in the viewport.
        if (scrollPosition > topPoistion(displayOrder[8])) {
          showRegionTotal(displayOrder[8])
        } else if (scrollPosition > topPoistion(displayOrder[7])) {
          showRegionTotal(displayOrder[7])
        } else if (scrollPosition > topPoistion(displayOrder[6])) {
          showRegionTotal(displayOrder[6])
        } else if (scrollPosition > topPoistion(displayOrder[5])) {
          showRegionTotal(displayOrder[5])
        } else if (scrollPosition > topPoistion(displayOrder[4])) {
          showRegionTotal(displayOrder[4])
        } else if (scrollPosition > topPoistion(displayOrder[3])) {
          showRegionTotal(displayOrder[3])
        } else if (scrollPosition > topPoistion(displayOrder[2])) {
          showRegionTotal(displayOrder[2])
        } else if (scrollPosition > topPoistion(displayOrder[1])) {
          showRegionTotal(displayOrder[1])
        } else if (scrollPosition > topPoistion('Saved')) {
          if ($('#container_mobile_Saved').is(':visible')) showRegionTotal('Saved', false)
        } else if (scrollPosition > 60) {
          handleCategorySort();
          $('.show-element').removeClass('show-element')
          $('nav.fixed-top').css({
            'margin-top': '0'
          });
        } else {
          $('.show-element').removeClass('show-element')
          $dropdownLabel.text('Jump to Region');

          $('nav.fixed-top').css({
            'margin-top': '50px'
          });
        }
      });
    });









</script>

</body>

</html>